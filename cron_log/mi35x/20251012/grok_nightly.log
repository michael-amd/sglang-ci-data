[nightly] ==========================================
[nightly] SGL Nightly Benchmark Started
[nightly] ==========================================
[nightly] Command: perf_nightly.sh --model=grok --model-path=/mnt/raid/models/huggingface/amd--grok-1-W4A8KV8 --mode=online --hardware=mi35x --teams-webhook-url=https://prod-99.westus.logic.azure.com/workflows/44b23afb37e74288b6b006c60bbe65b2/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=ucbP9AJ9WeZtxe95Wmi8TfLUjiEo0AZSZP4Y_cNgWS0
[nightly] Start time: 2025-10-12 10:00:01 PDT
[nightly] Machine: smci355-ccs-aus-m15-21.cs-aus.dcgpu
[nightly] Working directory: /mnt/raid/michael/sglang-ci
[nightly] Script location: /mnt/raid/michael/sglang-ci/perf_nightly.sh
[nightly] Process ID: 2273960
[nightly] ==========================================

[nightly] Runtime Environment:
[nightly] User: michaezh | Groups: michaezh spack everyone... | Docker: /usr/bin/docker
[nightly] Testing Docker daemon access...
[nightly] Docker daemon accessible - proceeding...
[nightly] Teams webhook URL provided via command line - notifications enabled
[nightly] Custom model path provided: /mnt/raid/models/huggingface/amd--grok-1-W4A8KV8
[nightly] Hardware: mi35x, ROCM Version: rocm700
[nightly] Model: grok, Mode(s): online
[nightly] Created process lock: /tmp/perf_nightly_grok.lock
[nightly] GPU is busy. Attempting to stop running Docker containers...
[nightly] Stopping running containers: 1dc5915f5bab
[nightly] Waiting 15s for GPU to become idle...
[nightly] WARN: GPU may still be busy, but proceeding as requested.
[nightly] Searching for non-SRT images for grok for the last 1 days...
[nightly] Searching for non-SRT mi35x image in 'rocm/sgl-dev' for date 20251012...
[nightly] No image found for today. Checking yesterday as a fallback...
[nightly] Searching for non-SRT mi35x image in 'rocm/sgl-dev' for date 20251011...
[nightly] Fallback found candidate tag: v0.5.3.post1-rocm700-mi35x-20251011
[nightly] Found local image: rocm/sgl-dev:v0.5.3.post1-rocm700-mi35x-20251011
[nightly] Successfully obtained fallback image for date 20251011: rocm/sgl-dev:v0.5.3.post1-rocm700-mi35x-20251011
[nightly] Found 1 valid image(s) to run benchmarks on:
[nightly]   - rocm/sgl-dev:v0.5.3.post1-rocm700-mi35x-20251011

[nightly] ==========================================
[nightly] Starting benchmarks for image: rocm/sgl-dev:v0.5.3.post1-rocm700-mi35x-20251011
[nightly] ==========================================
[nightly] Checking GPU status before starting benchmarks for rocm/sgl-dev:v0.5.3.post1-rocm700-mi35x-20251011...
[nightly] GPU is busy. Attempting to stop running Docker containers...
[nightly] Stopping running containers: 37a1f6e2119d
[nightly] Waiting 15s for GPU to become idle...
[nightly] WARN: GPU may still be busy, but proceeding as requested.
[nightly] Checking benchmark completion in: /mnt/raid/michael/sglang-ci/online/GROK1/v0.5.3.post1-rocm700-mi35x-20251011_GROK1_MOE-I4F8_online
[nightly] Found 12 completed benchmark runs
[nightly] INFO: Found 12/15 completed runs for rocm/sgl-dev:v0.5.3.post1-rocm700-mi35x-20251011 (online). Proceeding with benchmarks.
[nightly] Using Docker image: rocm/sgl-dev:v0.5.3.post1-rocm700-mi35x-20251011
[nightly] Container name: sgl-dev_v0.5.3.post1-rocm700-mi35x-20251011
[nightly] Reusing container sgl-dev_v0.5.3.post1-rocm700-mi35x-20251011
[nightly] === Starting benchmark execution ===
[nightly] === Starting nightly GROK online benchmark ===
[nightly] Launching grok_perf_online_csv.sh inside sgl-dev_v0.5.3.post1-rocm700-mi35x-20251011
[online] Auto-detected model type: grok1 from path: /mnt/raid/models/huggingface/amd--grok-1-W4A8KV8
[online] Using Grok 1 configuration
[online] Script started at: 2025-10-12 10:00:36 PDT
Scanning existing logs to check if all benchmarks are already complete...
Checking GSM8K log status...
✅ GSM8K log file is complete.
Checking client benchmark logs...
Scan complete: 12/15 client benchmark runs are complete.
❌ Missing or incomplete client benchmark runs.
Server startup required.
Starting benchmarks using aiter backend...
[online] Using Grok1 environment: SGLANG_USE_AITER=1 SGLANG_INT4_WEIGHT=1
[online] Launching backend=aiter for grok1
[online] Waiting for server to be ready (timeout: 600s)...
[online] Still waiting... (10s elapsed)
[online] Still waiting... (20s elapsed)
[online] Still waiting... (30s elapsed)
[online] Still waiting... (40s elapsed)
[online] Still waiting... (50s elapsed)
[online] Still waiting... (60s elapsed)
[online] Server ready after 60 seconds (PID 62)
Starting GSM8K accuracy test at: 2025-10-12 10:01:37 PDT
Executing GSM8K test Run 1 for mode aiter...
  0%|          | 0/1319 [00:00<?, ?it/s]  0%|          | 1/1319 [00:06<2:27:50,  6.73s/it]  0%|          | 2/1319 [00:07<1:07:30,  3.08s/it]  0%|          | 3/1319 [00:07<37:55,  1.73s/it]    0%|          | 5/1319 [00:07<17:26,  1.26it/s]  1%|          | 8/1319 [00:07<08:28,  2.58it/s]  1%|          | 10/1319 [00:08<07:09,  3.05it/s]  1%|          | 16/1319 [00:08<04:10,  5.19it/s]  2%|▏         | 20/1319 [00:08<02:54,  7.44it/s]  2%|▏         | 24/1319 [00:09<02:36,  8.25it/s]  2%|▏         | 26/1319 [00:09<02:24,  8.94it/s]  2%|▏         | 29/1319 [00:09<02:11,  9.79it/s]  3%|▎         | 37/1319 [00:09<01:12, 17.74it/s]  3%|▎         | 44/1319 [00:10<01:15, 16.82it/s]  4%|▍         | 50/1319 [00:10<00:59, 21.36it/s]  4%|▍         | 59/1319 [00:10<00:42, 29.48it/s]  5%|▍         | 63/1319 [00:10<00:18, 66.48it/s]  5%|▍         | 64/1319 [00:10<00:18, 66.48it/s]  5%|▍         | 65/1319 [00:10<00:18, 66.48it/s]  5%|▍         | 65/1319 [00:10<00:18, 66.48it/s]  6%|▌         | 73/1319 [00:10<00:22, 55.12it/s]  6%|▌         | 80/1319 [00:10<00:22, 55.86it/s]  7%|▋         | 87/1319 [00:10<00:21, 56.56it/s]  7%|▋         | 98/1319 [00:11<00:18, 65.24it/s]  8%|▊         | 110/1319 [00:11<00:16, 74.64it/s]  9%|▉         | 124/1319 [00:11<00:15, 77.37it/s] 11%|█         | 148/1319 [00:11<00:10, 110.07it/s] 12%|█▏        | 152/1319 [00:11<00:05, 196.27it/s] 12%|█▏        | 157/1319 [00:11<00:05, 196.27it/s] 12%|█▏        | 158/1319 [00:11<00:05, 196.27it/s] 12%|█▏        | 159/1319 [00:11<00:05, 196.27it/s] 14%|█▎        | 180/1319 [00:11<00:05, 193.15it/s] 15%|█▌        | 200/1319 [00:11<00:06, 185.90it/s] 17%|█▋        | 219/1319 [00:11<00:06, 182.37it/s] 18%|█▊        | 238/1319 [00:12<00:10, 100.93it/s] 18%|█▊        | 241/1319 [00:12<00:16, 66.81it/s]  19%|█▊        | 245/1319 [00:12<00:16, 66.81it/s] 20%|█▉        | 261/1319 [00:12<00:13, 76.88it/s] 21%|██        | 279/1319 [00:12<00:11, 90.55it/s] 23%|██▎       | 298/1319 [00:12<00:13, 78.11it/s] 23%|██▎       | 305/1319 [00:12<00:14, 72.38it/s] 24%|██▍       | 315/1319 [00:13<00:17, 56.88it/s] 24%|██▍       | 323/1319 [00:13<00:18, 52.97it/s] 26%|██▌       | 339/1319 [00:13<00:11, 87.78it/s] 26%|██▌       | 339/1319 [00:13<00:11, 87.78it/s] 26%|██▌       | 339/1319 [00:13<00:11, 87.78it/s] 26%|██▌       | 339/1319 [00:13<00:11, 87.78it/s] 26%|██▌       | 339/1319 [00:13<00:11, 87.78it/s] 26%|██▌       | 339/1319 [00:13<00:11, 87.78it/s] 26%|██▌       | 339/1319 [00:13<00:11, 87.78it/s] 26%|██▌       | 339/1319 [00:13<00:11, 87.78it/s] 26%|██▌       | 339/1319 [00:13<00:11, 87.78it/s] 26%|██▌       | 339/1319 [00:13<00:11, 87.78it/s] 26%|██▌       | 339/1319 [00:13<00:11, 87.78it/s] 26%|██▌       | 339/1319 [00:13<00:11, 87.78it/s] 27%|██▋       | 362/1319 [00:13<00:08, 112.25it/s] 28%|██▊       | 375/1319 [00:13<00:08, 113.04it/s] 30%|██▉       | 390/1319 [00:13<00:04, 191.44it/s] 30%|██▉       | 390/1319 [00:13<00:04, 191.44it/s] 30%|██▉       | 390/1319 [00:13<00:04, 191.44it/s] 30%|██▉       | 390/1319 [00:13<00:04, 191.44it/s] 30%|██▉       | 390/1319 [00:13<00:04, 191.44it/s] 30%|██▉       | 390/1319 [00:13<00:04, 191.44it/s] 30%|██▉       | 390/1319 [00:13<00:04, 191.44it/s] 30%|██▉       | 390/1319 [00:13<00:04, 191.44it/s] 30%|██▉       | 390/1319 [00:13<00:04, 191.44it/s] 30%|██▉       | 390/1319 [00:13<00:04, 191.44it/s] 30%|██▉       | 390/1319 [00:13<00:04, 191.44it/s] 31%|███       | 410/1319 [00:13<00:05, 154.69it/s] 32%|███▏      | 427/1319 [00:13<00:05, 157.56it/s] 32%|███▏      | 428/1319 [00:13<00:05, 162.31it/s] 34%|███▍      | 446/1319 [00:13<00:05, 146.47it/s] 36%|███▌      | 470/1319 [00:14<00:05, 162.05it/s] 37%|███▋      | 488/1319 [00:14<00:08, 100.56it/s] 38%|███▊      | 495/1319 [00:14<00:12, 64.40it/s]  38%|███▊      | 495/1319 [00:14<00:12, 64.40it/s] 38%|███▊      | 495/1319 [00:14<00:12, 64.40it/s] 38%|███▊      | 495/1319 [00:14<00:12, 64.40it/s] 39%|███▉      | 513/1319 [00:14<00:11, 70.68it/s] 40%|███▉      | 527/1319 [00:14<00:12, 63.47it/s] 43%|████▎     | 567/1319 [00:15<00:08, 93.49it/s] 45%|████▍     | 592/1319 [00:15<00:06, 109.15it/s] 48%|████▊     | 630/1319 [00:15<00:04, 145.53it/s] 49%|████▊     | 640/1319 [00:15<00:01, 344.70it/s] 49%|████▊     | 640/1319 [00:15<00:01, 344.70it/s] 49%|████▊     | 640/1319 [00:15<00:01, 344.70it/s] 49%|████▊     | 640/1319 [00:15<00:01, 344.70it/s] 49%|████▊     | 640/1319 [00:15<00:01, 344.70it/s] 49%|████▊     | 640/1319 [00:15<00:01, 344.70it/s] 49%|████▊     | 640/1319 [00:15<00:01, 344.70it/s] 49%|████▊     | 640/1319 [00:15<00:01, 344.70it/s] 49%|████▊     | 640/1319 [00:15<00:01, 344.70it/s] 49%|████▊     | 640/1319 [00:15<00:01, 344.70it/s] 51%|█████     | 675/1319 [00:15<00:03, 176.37it/s] 53%|█████▎    | 702/1319 [00:16<00:05, 120.25it/s] 55%|█████▍    | 723/1319 [00:16<00:04, 126.75it/s] 55%|█████▌    | 732/1319 [00:16<00:02, 201.01it/s] 55%|█████▌    | 732/1319 [00:16<00:02, 201.01it/s] 55%|█████▌    | 732/1319 [00:16<00:02, 201.01it/s] 55%|█████▌    | 732/1319 [00:16<00:02, 201.01it/s] 55%|█████▌    | 732/1319 [00:16<00:02, 201.01it/s] 55%|█████▌    | 732/1319 [00:16<00:02, 201.01it/s] 55%|█████▌    | 732/1319 [00:16<00:02, 201.01it/s] 55%|█████▌    | 732/1319 [00:16<00:02, 201.01it/s] 57%|█████▋    | 753/1319 [00:16<00:02, 192.43it/s] 58%|█████▊    | 760/1319 [00:16<00:02, 203.97it/s] 58%|█████▊    | 760/1319 [00:16<00:02, 203.97it/s] 58%|█████▊    | 760/1319 [00:16<00:02, 203.97it/s] 58%|█████▊    | 760/1319 [00:16<00:02, 203.97it/s] 58%|█████▊    | 760/1319 [00:16<00:02, 203.97it/s] 58%|█████▊    | 760/1319 [00:16<00:02, 203.97it/s] 59%|█████▉    | 781/1319 [00:16<00:03, 165.15it/s] 59%|█████▉    | 782/1319 [00:16<00:03, 145.84it/s] 61%|██████    | 798/1319 [00:17<00:04, 117.06it/s] 61%|██████▏   | 808/1319 [00:17<00:05, 90.32it/s]  61%|██████▏   | 810/1319 [00:17<00:05, 90.32it/s] 61%|██████▏   | 811/1319 [00:17<00:05, 90.32it/s] 64%|██████▍   | 841/1319 [00:17<00:03, 120.86it/s] 66%|██████▌   | 868/1319 [00:17<00:03, 143.86it/s] 66%|██████▋   | 876/1319 [00:17<00:02, 202.79it/s] 66%|██████▋   | 876/1319 [00:17<00:02, 202.79it/s] 66%|██████▋   | 877/1319 [00:17<00:02, 202.79it/s] 69%|██████▊   | 904/1319 [00:17<00:01, 215.27it/s] 71%|███████   | 930/1319 [00:17<00:01, 224.14it/s] 73%|███████▎  | 961/1319 [00:17<00:01, 240.74it/s] 75%|███████▍  | 986/1319 [00:17<00:01, 215.63it/s] 77%|███████▋  | 1017/1319 [00:18<00:01, 157.81it/s] 79%|███████▉  | 1045/1319 [00:18<00:01, 180.13it/s] 81%|████████  | 1067/1319 [00:18<00:01, 187.63it/s] 83%|████████▎ | 1089/1319 [00:18<00:01, 195.13it/s] 83%|████████▎ | 1090/1319 [00:18<00:01, 203.70it/s] 84%|████████▍ | 1112/1319 [00:18<00:01, 169.43it/s] 87%|████████▋ | 1142/1319 [00:18<00:00, 198.93it/s] 87%|████████▋ | 1147/1319 [00:18<00:00, 301.72it/s] 87%|████████▋ | 1147/1319 [00:18<00:00, 301.72it/s] 87%|████████▋ | 1147/1319 [00:18<00:00, 301.72it/s] 87%|████████▋ | 1147/1319 [00:18<00:00, 301.72it/s] 87%|████████▋ | 1147/1319 [00:18<00:00, 301.72it/s] 89%|████████▉ | 1178/1319 [00:18<00:00, 261.69it/s] 91%|█████████▏| 1206/1319 [00:19<00:00, 119.58it/s] 93%|█████████▎| 1227/1319 [00:19<00:00, 123.04it/s] 94%|█████████▍| 1246/1319 [00:19<00:00, 121.74it/s] 96%|█████████▌| 1263/1319 [00:19<00:00, 102.47it/s] 97%|█████████▋| 1277/1319 [00:20<00:00, 88.95it/s]  98%|█████████▊| 1289/1319 [00:20<00:00, 53.36it/s] 98%|█████████▊| 1298/1319 [00:21<00:00, 35.52it/s] 99%|█████████▉| 1305/1319 [00:22<00:00, 23.87it/s] 99%|█████████▉| 1310/1319 [00:22<00:00, 21.20it/s]100%|█████████▉| 1314/1319 [00:24<00:00, 10.68it/s]100%|██████████| 1319/1319 [00:24<00:00, 54.68it/s]
Accuracy: 0.814
Invalid: 0.000
Latency: 24.275 s
Output throughput: 7921.351 token/s
Run 1 completed in 28 seconds
Run 1: Accuracy: 0.814
Executing GSM8K test Run 2 for mode aiter...
  0%|          | 0/1319 [00:00<?, ?it/s]  0%|          | 1/1319 [00:04<1:44:09,  4.74s/it]  0%|          | 3/1319 [00:05<30:47,  1.40s/it]    0%|          | 4/1319 [00:05<23:39,  1.08s/it]  0%|          | 6/1319 [00:05<12:39,  1.73it/s]  1%|          | 8/1319 [00:05<07:57,  2.75it/s]  1%|          | 10/1319 [00:06<05:35,  3.90it/s]  1%|          | 12/1319 [00:06<06:05,  3.58it/s]  1%|          | 13/1319 [00:06<05:29,  3.97it/s]  2%|▏         | 30/1319 [00:07<01:41, 12.71it/s]  3%|▎         | 35/1319 [00:07<01:24, 15.26it/s]  3%|▎         | 45/1319 [00:07<00:55, 23.00it/s]  4%|▍         | 53/1319 [00:07<00:49, 25.67it/s]  4%|▍         | 57/1319 [00:08<01:14, 16.87it/s]  5%|▌         | 71/1319 [00:08<00:43, 28.84it/s]  6%|▌         | 80/1319 [00:08<00:34, 35.47it/s]  6%|▌         | 81/1319 [00:08<00:28, 43.55it/s]  7%|▋         | 89/1319 [00:08<00:26, 46.26it/s]  7%|▋         | 96/1319 [00:08<00:30, 40.64it/s]  8%|▊         | 100/1319 [00:08<00:28, 42.32it/s]  8%|▊         | 102/1319 [00:08<00:28, 42.32it/s]  8%|▊         | 103/1319 [00:08<00:28, 42.32it/s]  8%|▊         | 103/1319 [00:08<00:28, 42.32it/s]  8%|▊         | 112/1319 [00:09<00:24, 48.53it/s]  9%|▉         | 124/1319 [00:09<00:20, 59.43it/s] 11%|█         | 147/1319 [00:09<00:13, 88.98it/s] 13%|█▎        | 169/1319 [00:09<00:10, 106.57it/s] 15%|█▍        | 194/1319 [00:09<00:08, 134.33it/s] 17%|█▋        | 218/1319 [00:09<00:07, 155.13it/s] 18%|█▊        | 235/1319 [00:09<00:07, 140.93it/s] 19%|█▉        | 251/1319 [00:09<00:07, 142.61it/s] 19%|█▉        | 253/1319 [00:09<00:07, 151.60it/s] 19%|█▉        | 253/1319 [00:09<00:07, 151.60it/s] 20%|██        | 270/1319 [00:09<00:06, 152.17it/s] 21%|██        | 275/1319 [00:09<00:06, 165.61it/s] 21%|██        | 276/1319 [00:09<00:06, 165.61it/s] 21%|██        | 277/1319 [00:09<00:06, 165.61it/s] 22%|██▏       | 294/1319 [00:10<00:06, 153.64it/s] 23%|██▎       | 300/1319 [00:10<00:06, 162.04it/s] 23%|██▎       | 302/1319 [00:10<00:06, 162.04it/s] 23%|██▎       | 302/1319 [00:10<00:06, 162.04it/s] 23%|██▎       | 302/1319 [00:10<00:06, 162.04it/s] 23%|██▎       | 302/1319 [00:10<00:06, 162.04it/s] 23%|██▎       | 302/1319 [00:10<00:06, 162.04it/s] 24%|██▍       | 319/1319 [00:10<00:06, 162.36it/s] 25%|██▌       | 336/1319 [00:10<00:08, 118.25it/s] 29%|██▊       | 377/1319 [00:10<00:05, 177.83it/s] 29%|██▊       | 379/1319 [00:10<00:04, 230.51it/s] 31%|███       | 406/1319 [00:10<00:04, 202.78it/s] 32%|███▏      | 417/1319 [00:10<00:05, 177.08it/s] 32%|███▏      | 419/1319 [00:10<00:05, 177.08it/s] 32%|███▏      | 419/1319 [00:10<00:05, 177.08it/s] 33%|███▎      | 439/1319 [00:10<00:05, 166.57it/s] 34%|███▎      | 443/1319 [00:10<00:05, 158.12it/s] 34%|███▎      | 443/1319 [00:10<00:05, 158.12it/s] 35%|███▍      | 460/1319 [00:11<00:06, 142.74it/s] 37%|███▋      | 488/1319 [00:11<00:05, 158.38it/s] 39%|███▉      | 514/1319 [00:11<00:04, 165.84it/s] 41%|████      | 539/1319 [00:11<00:04, 184.75it/s] 42%|████▏     | 559/1319 [00:11<00:04, 183.25it/s] 45%|████▍     | 588/1319 [00:11<00:03, 194.75it/s] 47%|████▋     | 622/1319 [00:11<00:03, 186.98it/s] 50%|████▉     | 653/1319 [00:12<00:03, 202.77it/s] 50%|█████     | 660/1319 [00:12<00:02, 240.57it/s] 50%|█████     | 660/1319 [00:12<00:02, 240.57it/s] 50%|█████     | 660/1319 [00:12<00:02, 240.57it/s] 52%|█████▏    | 685/1319 [00:12<00:02, 226.72it/s] 54%|█████▎    | 708/1319 [00:12<00:03, 187.82it/s] 54%|█████▍    | 709/1319 [00:12<00:03, 167.17it/s] 55%|█████▌    | 727/1319 [00:12<00:03, 165.82it/s] 57%|█████▋    | 748/1319 [00:12<00:03, 166.44it/s] 58%|█████▊    | 759/1319 [00:12<00:03, 178.18it/s] 58%|█████▊    | 759/1319 [00:12<00:03, 178.18it/s] 58%|█████▊    | 759/1319 [00:12<00:03, 178.18it/s] 59%|█████▉    | 778/1319 [00:12<00:03, 172.99it/s] 60%|██████    | 796/1319 [00:12<00:03, 134.98it/s] 63%|██████▎   | 834/1319 [00:13<00:03, 135.70it/s] 64%|██████▎   | 838/1319 [00:13<00:03, 141.95it/s] 64%|██████▎   | 838/1319 [00:13<00:03, 141.95it/s] 64%|██████▎   | 838/1319 [00:13<00:03, 141.95it/s] 65%|██████▍   | 856/1319 [00:13<00:03, 142.80it/s] 68%|██████▊   | 894/1319 [00:13<00:02, 180.08it/s] 70%|███████   | 927/1319 [00:13<00:01, 207.96it/s] 73%|███████▎  | 957/1319 [00:13<00:01, 226.57it/s] 75%|███████▍  | 983/1319 [00:13<00:01, 208.86it/s] 77%|███████▋  | 1014/1319 [00:13<00:01, 223.48it/s] 79%|███████▉  | 1043/1319 [00:13<00:01, 235.66it/s] 80%|███████▉  | 1049/1319 [00:13<00:00, 301.90it/s] 80%|███████▉  | 1049/1319 [00:13<00:00, 301.90it/s] 80%|███████▉  | 1049/1319 [00:13<00:00, 301.90it/s] 80%|███████▉  | 1049/1319 [00:13<00:00, 301.90it/s] 80%|███████▉  | 1049/1319 [00:13<00:00, 301.90it/s] 80%|███████▉  | 1049/1319 [00:13<00:00, 301.90it/s] 82%|████████▏ | 1080/1319 [00:14<00:00, 274.04it/s] 84%|████████▍ | 1109/1319 [00:14<00:00, 270.73it/s] 86%|████████▌ | 1137/1319 [00:14<00:01, 126.36it/s] 89%|████████▊ | 1168/1319 [00:14<00:01, 150.62it/s] 90%|█████████ | 1191/1319 [00:15<00:01, 101.22it/s] 92%|█████████▏| 1209/1319 [00:15<00:01, 106.49it/s] 93%|█████████▎| 1226/1319 [00:15<00:00, 110.49it/s] 94%|█████████▍| 1242/1319 [00:16<00:01, 68.09it/s]  95%|█████████▌| 1255/1319 [00:16<00:00, 71.97it/s] 96%|█████████▌| 1266/1319 [00:18<00:02, 19.72it/s] 97%|█████████▋| 1275/1319 [00:18<00:01, 23.17it/s] 97%|█████████▋| 1283/1319 [00:18<00:01, 25.63it/s] 98%|█████████▊| 1290/1319 [00:18<00:01, 28.72it/s] 98%|█████████▊| 1297/1319 [00:19<00:00, 26.69it/s] 99%|█████████▉| 1303/1319 [00:19<00:00, 25.34it/s] 99%|█████████▉| 1308/1319 [00:19<00:00, 22.27it/s] 99%|█████████▉| 1312/1319 [00:20<00:00, 12.30it/s]100%|█████████▉| 1315/1319 [00:23<00:00,  4.85it/s]100%|██████████| 1319/1319 [00:23<00:00, 56.70it/s]
Accuracy: 0.812
Invalid: 0.000
Latency: 23.405 s
Output throughput: 8209.758 token/s
Run 2 completed in 28 seconds
Run 2: Accuracy: 0.812
Executing GSM8K test Run 3 for mode aiter...
  0%|          | 0/1319 [00:00<?, ?it/s]  0%|          | 1/1319 [00:04<1:38:05,  4.47s/it]  0%|          | 4/1319 [00:04<19:15,  1.14it/s]    0%|          | 6/1319 [00:04<11:27,  1.91it/s]  1%|          | 8/1319 [00:05<09:46,  2.23it/s]  2%|▏         | 22/1319 [00:05<02:09, 10.02it/s]  2%|▏         | 27/1319 [00:05<01:40, 12.80it/s]  3%|▎         | 34/1319 [00:05<01:12, 17.84it/s]  3%|▎         | 43/1319 [00:05<00:49, 25.62it/s]  4%|▍         | 51/1319 [00:05<00:39, 32.17it/s]  4%|▍         | 57/1319 [00:06<00:35, 35.36it/s]  5%|▌         | 68/1319 [00:06<00:26, 47.25it/s]  6%|▌         | 78/1319 [00:06<00:23, 52.93it/s]  7%|▋         | 88/1319 [00:06<00:20, 59.55it/s]  8%|▊         | 103/1319 [00:06<00:15, 76.65it/s]  9%|▉         | 116/1319 [00:06<00:14, 85.00it/s]  9%|▉         | 122/1319 [00:06<00:10, 110.76it/s]  9%|▉         | 124/1319 [00:06<00:10, 110.76it/s]  9%|▉         | 124/1319 [00:06<00:10, 110.76it/s] 10%|█         | 136/1319 [00:06<00:10, 108.07it/s] 12%|█▏        | 161/1319 [00:06<00:08, 138.49it/s] 13%|█▎        | 176/1319 [00:07<00:17, 65.24it/s]  15%|█▍        | 195/1319 [00:07<00:13, 82.05it/s] 15%|█▌        | 202/1319 [00:07<00:07, 152.94it/s] 15%|█▌        | 203/1319 [00:07<00:07, 152.94it/s] 15%|█▌        | 203/1319 [00:07<00:07, 152.94it/s] 15%|█▌        | 203/1319 [00:07<00:07, 152.94it/s] 17%|█▋        | 221/1319 [00:07<00:07, 153.98it/s] 18%|█▊        | 239/1319 [00:07<00:08, 129.96it/s] 19%|█▉        | 254/1319 [00:08<00:08, 132.60it/s] 20%|██        | 269/1319 [00:08<00:07, 134.18it/s] 21%|██        | 274/1319 [00:08<00:06, 164.90it/s] 21%|██        | 274/1319 [00:08<00:06, 164.90it/s] 21%|██        | 274/1319 [00:08<00:06, 164.90it/s] 21%|██        | 274/1319 [00:08<00:06, 164.90it/s] 21%|██        | 274/1319 [00:08<00:06, 164.90it/s] 22%|██▏       | 291/1319 [00:08<00:06, 160.62it/s] 23%|██▎       | 308/1319 [00:08<00:13, 77.24it/s]  24%|██▍       | 315/1319 [00:08<00:21, 45.64it/s] 24%|██▍       | 315/1319 [00:08<00:21, 45.64it/s] 24%|██▍       | 315/1319 [00:08<00:21, 45.64it/s] 24%|██▍       | 315/1319 [00:08<00:21, 45.64it/s] 24%|██▍       | 315/1319 [00:08<00:21, 45.64it/s] 24%|██▍       | 315/1319 [00:08<00:21, 45.64it/s] 24%|██▍       | 315/1319 [00:08<00:21, 45.64it/s] 26%|██▌       | 337/1319 [00:08<00:16, 58.64it/s] 27%|██▋       | 361/1319 [00:09<00:12, 74.36it/s] 28%|██▊       | 372/1319 [00:09<00:04, 229.93it/s] 28%|██▊       | 372/1319 [00:09<00:04, 229.93it/s] 28%|██▊       | 372/1319 [00:09<00:04, 229.93it/s] 28%|██▊       | 372/1319 [00:09<00:04, 229.93it/s] 28%|██▊       | 372/1319 [00:09<00:04, 229.93it/s] 28%|██▊       | 372/1319 [00:09<00:04, 229.93it/s] 28%|██▊       | 372/1319 [00:09<00:04, 229.93it/s] 28%|██▊       | 372/1319 [00:09<00:04, 229.93it/s] 28%|██▊       | 372/1319 [00:09<00:04, 229.93it/s] 28%|██▊       | 372/1319 [00:09<00:04, 229.93it/s] 28%|██▊       | 372/1319 [00:09<00:04, 229.93it/s] 30%|███       | 396/1319 [00:09<00:08, 108.68it/s] 30%|███       | 400/1319 [00:09<00:16, 57.01it/s]  30%|███       | 400/1319 [00:09<00:16, 57.01it/s] 30%|███       | 400/1319 [00:09<00:16, 57.01it/s] 32%|███▏      | 423/1319 [00:09<00:13, 68.62it/s] 34%|███▍      | 452/1319 [00:09<00:10, 86.64it/s] 35%|███▍      | 458/1319 [00:09<00:04, 193.55it/s] 35%|███▍      | 458/1319 [00:09<00:04, 193.55it/s] 35%|███▍      | 458/1319 [00:09<00:04, 193.55it/s] 35%|███▍      | 458/1319 [00:09<00:04, 193.55it/s] 35%|███▍      | 458/1319 [00:09<00:04, 193.55it/s] 35%|███▍      | 458/1319 [00:09<00:04, 193.55it/s] 36%|███▋      | 480/1319 [00:10<00:04, 180.26it/s] 39%|███▉      | 515/1319 [00:10<00:03, 215.48it/s] 41%|████      | 542/1319 [00:10<00:03, 210.31it/s] 42%|████▏     | 549/1319 [00:10<00:03, 233.36it/s] 42%|████▏     | 549/1319 [00:10<00:03, 233.36it/s] 42%|████▏     | 549/1319 [00:10<00:03, 233.36it/s] 42%|████▏     | 549/1319 [00:10<00:03, 233.36it/s] 42%|████▏     | 549/1319 [00:10<00:03, 233.36it/s] 42%|████▏     | 549/1319 [00:10<00:03, 233.36it/s] 42%|████▏     | 549/1319 [00:10<00:03, 233.36it/s] 43%|████▎     | 573/1319 [00:10<00:06, 116.50it/s] 45%|████▌     | 600/1319 [00:10<00:05, 131.58it/s] 46%|████▌     | 609/1319 [00:10<00:03, 188.54it/s] 46%|████▌     | 610/1319 [00:10<00:03, 188.54it/s] 46%|████▌     | 610/1319 [00:10<00:03, 188.54it/s] 46%|████▌     | 610/1319 [00:10<00:03, 188.54it/s] 48%|████▊     | 631/1319 [00:11<00:03, 181.71it/s] 48%|████▊     | 637/1319 [00:11<00:03, 179.96it/s] 48%|████▊     | 637/1319 [00:11<00:03, 179.96it/s] 48%|████▊     | 637/1319 [00:11<00:03, 179.96it/s] 50%|████▉     | 657/1319 [00:11<00:03, 171.37it/s] 51%|█████     | 675/1319 [00:11<00:06, 100.46it/s] 53%|█████▎    | 693/1319 [00:11<00:05, 109.07it/s] 53%|█████▎    | 699/1319 [00:11<00:04, 147.88it/s] 53%|█████▎    | 699/1319 [00:11<00:04, 147.88it/s] 53%|█████▎    | 700/1319 [00:11<00:04, 147.88it/s] 53%|█████▎    | 700/1319 [00:11<00:04, 147.88it/s] 55%|█████▍    | 724/1319 [00:11<00:03, 158.39it/s] 56%|█████▌    | 734/1319 [00:11<00:03, 177.15it/s] 56%|█████▌    | 736/1319 [00:11<00:03, 177.15it/s] 57%|█████▋    | 756/1319 [00:12<00:03, 173.93it/s] 59%|█████▉    | 781/1319 [00:12<00:03, 175.98it/s] 61%|██████    | 799/1319 [00:12<00:06, 85.28it/s]  62%|██████▏   | 815/1319 [00:12<00:05, 95.68it/s] 62%|██████▏   | 819/1319 [00:12<00:03, 149.40it/s] 62%|██████▏   | 819/1319 [00:12<00:03, 149.40it/s] 62%|██████▏   | 819/1319 [00:12<00:03, 149.40it/s] 62%|██████▏   | 819/1319 [00:12<00:03, 149.40it/s] 64%|██████▍   | 848/1319 [00:13<00:04, 98.07it/s]  66%|██████▌   | 871/1319 [00:13<00:03, 114.82it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 67%|██████▋   | 886/1319 [00:13<00:01, 275.40it/s] 69%|██████▉   | 914/1319 [00:13<00:01, 274.79it/s] 71%|███████▏  | 942/1319 [00:13<00:01, 275.65it/s] 74%|███████▎  | 971/1319 [00:13<00:01, 267.75it/s] 76%|███████▌  | 998/1319 [00:14<00:02, 122.81it/s] 76%|███████▌  | 1000/1319 [00:14<00:04, 74.38it/s] 76%|███████▌  | 1000/1319 [00:14<00:04, 74.38it/s] 77%|███████▋  | 1022/1319 [00:14<00:03, 88.38it/s] 78%|███████▊  | 1028/1319 [00:14<00:01, 186.15it/s] 78%|███████▊  | 1029/1319 [00:14<00:01, 186.15it/s] 78%|███████▊  | 1029/1319 [00:14<00:01, 186.15it/s] 78%|███████▊  | 1029/1319 [00:14<00:01, 186.15it/s] 78%|███████▊  | 1029/1319 [00:14<00:01, 186.15it/s] 80%|███████▉  | 1052/1319 [00:14<00:01, 155.74it/s] 81%|████████▏ | 1072/1319 [00:14<00:01, 155.24it/s] 83%|████████▎ | 1093/1319 [00:14<00:01, 155.98it/s] 86%|████████▌ | 1129/1319 [00:14<00:00, 198.89it/s] 87%|████████▋ | 1154/1319 [00:15<00:00, 208.05it/s] 90%|████████▉ | 1181/1319 [00:15<00:00, 213.78it/s] 91%|█████████▏| 1204/1319 [00:15<00:00, 198.11it/s] 93%|█████████▎| 1225/1319 [00:15<00:00, 183.24it/s] 94%|█████████▍| 1245/1319 [00:15<00:00, 93.45it/s]  96%|█████████▌| 1260/1319 [00:16<00:00, 94.57it/s] 96%|█████████▌| 1262/1319 [00:16<00:00, 100.68it/s] 96%|█████████▌| 1262/1319 [00:16<00:00, 100.68it/s] 97%|█████████▋| 1275/1319 [00:16<00:00, 55.74it/s]  97%|█████████▋| 1285/1319 [00:16<00:00, 60.93it/s] 98%|█████████▊| 1295/1319 [00:16<00:00, 62.33it/s] 99%|█████████▉| 1304/1319 [00:17<00:00, 44.43it/s] 99%|█████████▉| 1311/1319 [00:17<00:00, 27.61it/s]100%|█████████▉| 1316/1319 [00:19<00:00, 10.67it/s]100%|██████████| 1319/1319 [00:19<00:00, 66.21it/s]
Accuracy: 0.814
Invalid: 0.000
Latency: 20.030 s
Output throughput: 9590.584 token/s
Run 3 completed in 24 seconds
Run 3: Accuracy: 0.814
Executing GSM8K test Run 4 for mode aiter...
  0%|          | 0/1319 [00:00<?, ?it/s]  0%|          | 1/1319 [00:04<1:32:14,  4.20s/it]  0%|          | 3/1319 [00:04<25:07,  1.15s/it]    0%|          | 6/1319 [00:04<10:14,  2.14it/s]  1%|          | 8/1319 [00:05<09:04,  2.41it/s]  2%|▏         | 22/1319 [00:05<02:22,  9.07it/s]  2%|▏         | 25/1319 [00:05<02:05, 10.28it/s]  2%|▏         | 31/1319 [00:05<01:29, 14.32it/s]  3%|▎         | 33/1319 [00:05<00:47, 26.99it/s]  3%|▎         | 33/1319 [00:05<00:47, 26.99it/s]  3%|▎         | 38/1319 [00:05<00:43, 29.44it/s]  3%|▎         | 39/1319 [00:05<00:38, 33.36it/s]  3%|▎         | 44/1319 [00:06<00:39, 32.60it/s]  4%|▎         | 48/1319 [00:06<00:37, 33.79it/s]  4%|▍         | 53/1319 [00:06<00:35, 35.51it/s]  4%|▍         | 59/1319 [00:06<00:32, 38.87it/s]  5%|▍         | 62/1319 [00:06<00:22, 56.05it/s]  5%|▍         | 64/1319 [00:06<00:22, 56.05it/s]  5%|▍         | 65/1319 [00:06<00:22, 56.05it/s]  5%|▌         | 71/1319 [00:06<00:21, 56.99it/s]  5%|▌         | 72/1319 [00:06<00:20, 60.31it/s]  6%|▌         | 79/1319 [00:06<00:20, 59.38it/s]  7%|▋         | 89/1319 [00:06<00:18, 66.29it/s]  8%|▊         | 104/1319 [00:06<00:14, 85.12it/s]  9%|▉         | 118/1319 [00:06<00:12, 94.31it/s]  9%|▉         | 123/1319 [00:06<00:11, 103.02it/s] 10%|█         | 135/1319 [00:07<00:12, 93.79it/s]  12%|█▏        | 158/1319 [00:07<00:09, 122.57it/s] 14%|█▎        | 181/1319 [00:07<00:07, 143.75it/s] 15%|█▌        | 204/1319 [00:07<00:06, 161.50it/s] 16%|█▌        | 208/1319 [00:07<00:06, 176.83it/s] 17%|█▋        | 227/1319 [00:07<00:07, 141.32it/s] 18%|█▊        | 243/1319 [00:07<00:07, 140.43it/s] 19%|█▉        | 253/1319 [00:07<00:05, 202.14it/s] 19%|█▉        | 253/1319 [00:07<00:05, 202.14it/s] 19%|█▉        | 253/1319 [00:07<00:05, 202.14it/s] 19%|█▉        | 253/1319 [00:07<00:05, 202.14it/s] 19%|█▉        | 253/1319 [00:07<00:05, 202.14it/s] 19%|█▉        | 253/1319 [00:07<00:05, 202.14it/s] 19%|█▉        | 253/1319 [00:07<00:05, 202.14it/s] 19%|█▉        | 253/1319 [00:07<00:05, 202.14it/s] 19%|█▉        | 253/1319 [00:07<00:05, 202.14it/s] 19%|█▉        | 253/1319 [00:07<00:05, 202.14it/s] 21%|██        | 274/1319 [00:07<00:05, 174.33it/s] 22%|██▏       | 293/1319 [00:07<00:05, 173.19it/s] 24%|██▎       | 311/1319 [00:08<00:06, 146.19it/s] 24%|██▍       | 316/1319 [00:08<00:08, 125.33it/s] 24%|██▍       | 316/1319 [00:08<00:08, 125.33it/s] 24%|██▍       | 316/1319 [00:08<00:08, 125.33it/s] 24%|██▍       | 316/1319 [00:08<00:08, 125.33it/s] 24%|██▍       | 316/1319 [00:08<00:08, 125.33it/s] 26%|██▌       | 342/1319 [00:08<00:07, 126.61it/s] 27%|██▋       | 351/1319 [00:08<00:07, 135.52it/s] 27%|██▋       | 352/1319 [00:08<00:07, 135.52it/s] 27%|██▋       | 352/1319 [00:08<00:07, 135.52it/s] 28%|██▊       | 373/1319 [00:08<00:06, 138.73it/s] 29%|██▉       | 387/1319 [00:08<00:06, 138.51it/s] 30%|██▉       | 391/1319 [00:08<00:05, 156.72it/s] 30%|██▉       | 394/1319 [00:08<00:05, 156.72it/s] 30%|██▉       | 395/1319 [00:08<00:05, 156.72it/s] 30%|██▉       | 395/1319 [00:08<00:05, 156.72it/s] 31%|███       | 411/1319 [00:08<00:06, 146.17it/s] 34%|███▍      | 446/1319 [00:08<00:05, 161.93it/s] 35%|███▌      | 462/1319 [00:09<00:05, 161.10it/s] 36%|███▌      | 478/1319 [00:09<00:05, 148.67it/s] 37%|███▋      | 484/1319 [00:09<00:05, 143.24it/s] 37%|███▋      | 484/1319 [00:09<00:05, 143.24it/s] 37%|███▋      | 484/1319 [00:09<00:05, 143.24it/s] 37%|███▋      | 484/1319 [00:09<00:05, 143.24it/s] 38%|███▊      | 499/1319 [00:09<00:05, 144.34it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 39%|███▉      | 514/1319 [00:09<00:03, 258.84it/s] 41%|████      | 542/1319 [00:09<00:03, 241.05it/s] 43%|████▎     | 567/1319 [00:09<00:03, 218.67it/s] 45%|████▌     | 599/1319 [00:09<00:03, 225.03it/s] 48%|████▊     | 628/1319 [00:09<00:03, 222.87it/s] 49%|████▉     | 651/1319 [00:09<00:03, 219.70it/s] 51%|█████     | 675/1319 [00:10<00:03, 195.02it/s] 53%|█████▎    | 695/1319 [00:10<00:03, 194.25it/s] 53%|█████▎    | 698/1319 [00:10<00:03, 200.07it/s] 53%|█████▎    | 698/1319 [00:10<00:03, 200.07it/s] 55%|█████▍    | 719/1319 [00:10<00:03, 187.81it/s] 55%|█████▌    | 726/1319 [00:10<00:03, 195.34it/s] 55%|█████▌    | 727/1319 [00:10<00:03, 195.34it/s] 55%|█████▌    | 728/1319 [00:10<00:03, 195.34it/s] 55%|█████▌    | 728/1319 [00:10<00:03, 195.34it/s] 55%|█████▌    | 728/1319 [00:10<00:03, 195.34it/s] 55%|█████▌    | 728/1319 [00:10<00:03, 195.34it/s] 57%|█████▋    | 749/1319 [00:10<00:03, 187.67it/s] 57%|█████▋    | 756/1319 [00:10<00:02, 190.55it/s] 57%|█████▋    | 758/1319 [00:10<00:02, 190.55it/s] 58%|█████▊    | 759/1319 [00:10<00:02, 190.55it/s] 58%|█████▊    | 759/1319 [00:10<00:02, 190.55it/s] 59%|█████▉    | 779/1319 [00:10<00:02, 184.87it/s] 61%|██████    | 798/1319 [00:10<00:02, 174.35it/s] 61%|██████    | 805/1319 [00:10<00:03, 168.14it/s] 61%|██████    | 806/1319 [00:10<00:03, 168.14it/s] 62%|██████▏   | 823/1319 [00:10<00:03, 157.48it/s] 64%|██████▍   | 849/1319 [00:10<00:02, 162.59it/s] 66%|██████▌   | 867/1319 [00:11<00:02, 162.55it/s] 68%|██████▊   | 903/1319 [00:11<00:02, 207.01it/s] 71%|███████   | 936/1319 [00:11<00:01, 236.61it/s] 72%|███████▏  | 944/1319 [00:11<00:01, 363.11it/s] 72%|███████▏  | 944/1319 [00:11<00:01, 363.11it/s] 72%|███████▏  | 944/1319 [00:11<00:01, 363.11it/s] 72%|███████▏  | 944/1319 [00:11<00:01, 363.11it/s] 72%|███████▏  | 944/1319 [00:11<00:01, 363.11it/s] 72%|███████▏  | 944/1319 [00:11<00:01, 363.11it/s] 72%|███████▏  | 944/1319 [00:11<00:01, 363.11it/s] 72%|███████▏  | 944/1319 [00:11<00:01, 363.11it/s] 74%|███████▍  | 981/1319 [00:11<00:01, 291.55it/s] 77%|███████▋  | 1013/1319 [00:11<00:01, 289.63it/s] 79%|███████▉  | 1044/1319 [00:12<00:01, 137.89it/s] 79%|███████▉  | 1045/1319 [00:12<00:02, 99.65it/s]  81%|████████  | 1066/1319 [00:12<00:02, 111.67it/s] 83%|████████▎ | 1091/1319 [00:12<00:01, 125.18it/s] 85%|████████▌ | 1126/1319 [00:12<00:01, 158.02it/s] 87%|████████▋ | 1154/1319 [00:12<00:00, 178.35it/s] 89%|████████▉ | 1178/1319 [00:12<00:00, 147.53it/s] 91%|█████████ | 1198/1319 [00:12<00:00, 145.34it/s] 91%|█████████ | 1199/1319 [00:12<00:00, 145.34it/s] 92%|█████████▏| 1216/1319 [00:13<00:00, 148.35it/s] 93%|█████████▎| 1233/1319 [00:13<00:00, 133.43it/s] 95%|█████████▍| 1248/1319 [00:13<00:00, 130.10it/s] 96%|█████████▌| 1262/1319 [00:13<00:00, 126.05it/s] 97%|█████████▋| 1276/1319 [00:13<00:00, 93.57it/s]  98%|█████████▊| 1287/1319 [00:13<00:00, 89.61it/s] 98%|█████████▊| 1297/1319 [00:14<00:00, 69.66it/s] 99%|█████████▉| 1306/1319 [00:14<00:00, 35.47it/s]100%|█████████▉| 1313/1319 [00:16<00:00, 13.23it/s]100%|██████████| 1319/1319 [00:16<00:00, 78.77it/s]
Accuracy: 0.815
Invalid: 0.000
Latency: 16.854 s
Output throughput: 11431.236 token/s
Run 4 completed in 21 seconds
Run 4: Accuracy: 0.815
Executing GSM8K test Run 5 for mode aiter...
  0%|          | 0/1319 [00:00<?, ?it/s]  0%|          | 1/1319 [00:04<1:29:27,  4.07s/it]  0%|          | 4/1319 [00:04<17:37,  1.24it/s]    0%|          | 6/1319 [00:04<12:48,  1.71it/s]  1%|          | 7/1319 [00:05<13:08,  1.66it/s]  2%|▏         | 22/1319 [00:05<02:18,  9.36it/s]  2%|▏         | 27/1319 [00:06<02:49,  7.61it/s]  3%|▎         | 34/1319 [00:06<01:55, 11.11it/s]  3%|▎         | 43/1319 [00:06<01:15, 16.81it/s]  4%|▍         | 51/1319 [00:06<00:58, 21.62it/s]  4%|▍         | 57/1319 [00:07<00:49, 25.35it/s]  5%|▍         | 63/1319 [00:07<00:20, 62.00it/s]  5%|▍         | 63/1319 [00:07<00:20, 62.00it/s]  5%|▍         | 63/1319 [00:07<00:20, 62.00it/s]  5%|▍         | 63/1319 [00:07<00:20, 62.00it/s]  5%|▍         | 63/1319 [00:07<00:20, 62.00it/s]  5%|▌         | 71/1319 [00:07<00:19, 63.48it/s]  6%|▌         | 80/1319 [00:07<00:18, 66.36it/s]  7%|▋         | 91/1319 [00:07<00:16, 72.63it/s]  8%|▊         | 99/1319 [00:07<00:09, 133.13it/s]  8%|▊         | 99/1319 [00:07<00:09, 133.13it/s]  8%|▊         | 99/1319 [00:07<00:09, 133.13it/s]  8%|▊         | 99/1319 [00:07<00:09, 133.13it/s]  8%|▊         | 99/1319 [00:07<00:09, 133.13it/s]  8%|▊         | 99/1319 [00:07<00:09, 133.13it/s]  8%|▊         | 99/1319 [00:07<00:09, 133.13it/s]  8%|▊         | 99/1319 [00:07<00:09, 133.13it/s]  9%|▊         | 113/1319 [00:07<00:10, 112.63it/s]  9%|▉         | 125/1319 [00:07<00:14, 80.38it/s]  10%|█         | 135/1319 [00:08<00:14, 81.38it/s] 12%|█▏        | 162/1319 [00:08<00:09, 116.21it/s] 13%|█▎        | 171/1319 [00:08<00:04, 229.86it/s] 13%|█▎        | 171/1319 [00:08<00:04, 229.86it/s] 13%|█▎        | 171/1319 [00:08<00:04, 229.86it/s] 13%|█▎        | 171/1319 [00:08<00:04, 229.86it/s] 13%|█▎        | 171/1319 [00:08<00:04, 229.86it/s] 15%|█▍        | 195/1319 [00:08<00:05, 223.42it/s] 17%|█▋        | 218/1319 [00:08<00:05, 190.11it/s] 18%|█▊        | 239/1319 [00:08<00:06, 165.60it/s] 19%|█▉        | 257/1319 [00:08<00:06, 166.88it/s] 21%|██        | 275/1319 [00:08<00:07, 133.62it/s] 23%|██▎       | 299/1319 [00:09<00:07, 128.15it/s] 26%|██▌       | 339/1319 [00:09<00:05, 163.98it/s] 28%|██▊       | 365/1319 [00:09<00:05, 171.18it/s] 30%|██▉       | 390/1319 [00:09<00:05, 169.44it/s] 32%|███▏      | 416/1319 [00:09<00:04, 188.88it/s] 33%|███▎      | 437/1319 [00:09<00:05, 174.72it/s] 35%|███▌      | 462/1319 [00:10<00:05, 161.05it/s] 36%|███▌      | 469/1319 [00:10<00:05, 154.33it/s] 37%|███▋      | 486/1319 [00:10<00:05, 157.21it/s] 39%|███▉      | 520/1319 [00:10<00:04, 181.38it/s] 42%|████▏     | 551/1319 [00:10<00:03, 194.45it/s] 44%|████▍     | 579/1319 [00:10<00:04, 170.84it/s] 44%|████▍     | 581/1319 [00:10<00:04, 153.57it/s] 45%|████▌     | 594/1319 [00:10<00:04, 153.57it/s] 47%|████▋     | 614/1319 [00:10<00:04, 153.42it/s] 49%|████▊     | 641/1319 [00:10<00:04, 166.54it/s] 51%|█████     | 671/1319 [00:10<00:03, 182.50it/s] 52%|█████▏    | 691/1319 [00:11<00:03, 182.22it/s] 54%|█████▍    | 711/1319 [00:11<00:03, 172.97it/s] 55%|█████▍    | 719/1319 [00:11<00:03, 168.81it/s] 55%|█████▍    | 722/1319 [00:11<00:03, 168.81it/s] 55%|█████▍    | 722/1319 [00:11<00:03, 168.81it/s] 56%|█████▋    | 744/1319 [00:11<00:03, 171.51it/s] 58%|█████▊    | 770/1319 [00:11<00:03, 182.28it/s] 60%|█████▉    | 789/1319 [00:11<00:03, 172.29it/s] 61%|██████▏   | 809/1319 [00:11<00:02, 175.18it/s] 64%|██████▎   | 839/1319 [00:11<00:02, 207.35it/s] 65%|██████▌   | 861/1319 [00:12<00:02, 163.36it/s] 67%|██████▋   | 883/1319 [00:12<00:02, 172.36it/s] 69%|██████▉   | 914/1319 [00:12<00:01, 203.90it/s] 70%|██████▉   | 917/1319 [00:12<00:01, 231.18it/s] 71%|███████▏  | 942/1319 [00:12<00:01, 225.74it/s] 74%|███████▎  | 972/1319 [00:12<00:01, 236.02it/s] 76%|███████▌  | 997/1319 [00:12<00:01, 225.87it/s] 77%|███████▋  | 1021/1319 [00:12<00:01, 217.33it/s] 79%|███████▉  | 1045/1319 [00:12<00:01, 218.24it/s] 81%|████████  | 1069/1319 [00:12<00:01, 221.46it/s] 82%|████████▏ | 1075/1319 [00:12<00:00, 247.79it/s] 82%|████████▏ | 1075/1319 [00:12<00:00, 247.79it/s] 82%|████████▏ | 1075/1319 [00:12<00:00, 247.79it/s] 82%|████████▏ | 1075/1319 [00:12<00:00, 247.79it/s] 83%|████████▎ | 1100/1319 [00:13<00:00, 226.43it/s] 85%|████████▌ | 1124/1319 [00:13<00:00, 223.97it/s] 87%|████████▋ | 1151/1319 [00:13<00:00, 235.07it/s] 89%|████████▉ | 1175/1319 [00:13<00:00, 209.47it/s] 91%|█████████ | 1197/1319 [00:13<00:00, 190.54it/s] 92%|█████████▏| 1217/1319 [00:13<00:00, 189.37it/s] 94%|█████████▍| 1237/1319 [00:13<00:00, 134.99it/s] 95%|█████████▍| 1253/1319 [00:14<00:00, 116.14it/s] 96%|█████████▌| 1267/1319 [00:14<00:00, 110.82it/s] 97%|█████████▋| 1280/1319 [00:14<00:00, 84.21it/s]  98%|█████████▊| 1291/1319 [00:14<00:00, 83.32it/s] 99%|█████████▊| 1301/1319 [00:14<00:00, 65.32it/s] 99%|█████████▉| 1309/1319 [00:15<00:00, 37.17it/s]100%|█████████▉| 1315/1319 [00:17<00:00, 12.80it/s]100%|█████████▉| 1316/1319 [00:17<00:00,  8.20it/s]100%|██████████| 1319/1319 [00:17<00:00, 75.35it/s]
Accuracy: 0.816
Invalid: 0.000
Latency: 17.717 s
Output throughput: 10847.060 token/s
Run 5 completed in 22 seconds
Run 5: Accuracy: 0.816
GSM8K test completed in 123 seconds
Average Accuracy over 5 runs for mode aiter: 0.814
Average accuracy meets threshold (0.8) for mode aiter. Continuing with this mode.
Starting client benchmark for mode aiter at: 2025-10-12 10:03:40 PDT...
[progress] Total benchmark runs to execute: 15
[progress] [--------------------------------------------------] 0/15 (0%) 
[online] CSV initialized at /mnt/raid/michael/sglang-ci/online/GROK1/v0.5.3.post1-rocm700-mi35x-20251011_GROK1_MOE-I4F8_online/v0.5.3.post1-rocm700-mi35x-20251011_GROK1_MOE-I4F8_online.csv
Running benchmarks sequentially...
Processing request rate 1 for mode aiter...
Complete log for mode aiter, rate 1, run 1 already exists. Skipping.
[progress] [===-----------------------------------------------] 1/15 (6%)  | Rate: 1, Run: 1
Complete log for mode aiter, rate 1, run 2 already exists. Skipping.
[progress] [======--------------------------------------------] 2/15 (13%)  | Rate: 1, Run: 2
Complete log for mode aiter, rate 1, run 3 already exists. Skipping.
[progress] [==========----------------------------------------] 3/15 (20%)  | Rate: 1, Run: 3
[online] Updating CSV for rate 1: E2E=7445.03ms, TTFT=58.46ms, ITL=11.54ms
[online] CSV updated with results for rate 1
Sleeping 3 seconds before next request rate...
Processing request rate 2 for mode aiter...
Complete log for mode aiter, rate 2, run 1 already exists. Skipping.
[progress] [=============-------------------------------------] 4/15 (26%)  | Rate: 2, Run: 1
Complete log for mode aiter, rate 2, run 2 already exists. Skipping.
[progress] [================----------------------------------] 5/15 (33%)  | Rate: 2, Run: 2
Complete log for mode aiter, rate 2, run 3 already exists. Skipping.
[progress] [====================------------------------------] 6/15 (40%)  | Rate: 2, Run: 3
[online] Updating CSV for rate 2: E2E=7707.95ms, TTFT=58.46ms, ITL=12.11ms
[online] CSV updated with results for rate 2
Sleeping 3 seconds before next request rate...
Processing request rate 4 for mode aiter...
Complete log for mode aiter, rate 4, run 1 already exists. Skipping.
[progress] [=======================---------------------------] 7/15 (46%)  | Rate: 4, Run: 1
Complete log for mode aiter, rate 4, run 2 already exists. Skipping.
[progress] [==========================------------------------] 8/15 (53%)  | Rate: 4, Run: 2
Complete log for mode aiter, rate 4, run 3 already exists. Skipping.
[progress] [==============================--------------------] 9/15 (60%)  | Rate: 4, Run: 3
[online] Updating CSV for rate 4: E2E=9341.60ms, TTFT=64.20ms, ITL=12.84ms
[online] CSV updated with results for rate 4
Sleeping 3 seconds before next request rate...
Processing request rate 8 for mode aiter...
Complete log for mode aiter, rate 8, run 1 already exists. Skipping.
[progress] [=================================-----------------] 10/15 (66%)  | Rate: 8, Run: 1
Complete log for mode aiter, rate 8, run 2 already exists. Skipping.
[progress] [====================================--------------] 11/15 (73%)  | Rate: 8, Run: 2
Complete log for mode aiter, rate 8, run 3 already exists. Skipping.
[progress] [========================================----------] 12/15 (80%)  | Rate: 8, Run: 3
[online] Updating CSV for rate 8: E2E=13047.30ms, TTFT=77.25ms, ITL=15.20ms
[online] CSV updated with results for rate 8
Sleeping 3 seconds before next request rate...
[online] Skipping rate 16 on MI355 hardware (known limitation - scheduler timeout)
Client benchmark completed in 12 seconds
[online] Shutting down server (PID 62)...
/mnt/raid/michael/sglang-ci/grok_perf_online_csv.sh: line 507: [: 0
0: integer expression expected
/mnt/raid/michael/sglang-ci/grok_perf_online_csv.sh: line 519: [: 0
0: integer expression expected
/mnt/raid/michael/sglang-ci/grok_perf_online_csv.sh: line 477:    62 Killed                  env SGLANG_USE_AITER=1 SGLANG_INT4_WEIGHT=1 python3 -m sglang.launch_server --model '/mnt/raid/models/huggingface/amd--grok-1-W4A8KV8' --tokenizer-path '/mnt/raid/models/huggingface/amd--grok-1-W4A8KV8' --tp 8 --quantization fp8 --trust-remote-code --attention-backend aiter --mem-fraction-static 0.85 > '/mnt/raid/michael/sglang-ci/online/GROK1/v0.5.3.post1-rocm700-mi35x-20251011_GROK1_MOE-I4F8_online/server_output_aiter.log' 2>&1
[online] Server shutdown completed in 2 seconds
CSV summary saved to /mnt/raid/michael/sglang-ci/online/GROK1/v0.5.3.post1-rocm700-mi35x-20251011_GROK1_MOE-I4F8_online/v0.5.3.post1-rocm700-mi35x-20251011_GROK1_MOE-I4F8_online.csv
All done! Client logs and CSV summary are saved in /mnt/raid/michael/sglang-ci/online/GROK1/v0.5.3.post1-rocm700-mi35x-20251011_GROK1_MOE-I4F8_online.
/mnt/raid/michael/sglang-ci/grok_perf_online_csv.sh: line 1082: best_e2e_aiter[$rate]: unbound variable
[nightly] === Online benchmark dispatched for GROK; check logs in sgl-dev_v0.5.3.post1-rocm700-mi35x-20251011 ===
[nightly] === Starting post-processing (CSV processing, plot generation, Teams notifications) ===
[nightly] Processing online CSV data and generating plots... Logs will be saved to /mnt/raid/michael/sglang-ci/online/GROK1/v0.5.3.post1-rocm700-mi35x-20251011_GROK1_MOE-I4F8_online/process_and_generate_online_plots.log
[nightly] Using plot date from image tag: 20251011
[nightly] Sending Teams notification for grok online plots...
[nightly] Adding benchmark date to Teams notification: 20251011
[nightly] Teams notification using plot directory: /mnt/raid/michael/sglang-ci/plots_server
[nightly] No GitHub credentials configured - using plot server links only
[nightly] To enable GitHub upload, set GITHUB_REPO and GITHUB_TOKEN environment variables
[nightly] Including intelligent analysis (7 days lookback)
📡 Plot server base URL: http://10.235.26.27:8000
📁 Plot directory: /mnt/raid/michael/sglang-ci/plots_server
🗂️  Benchmark directory: /mnt/raid/michael/sglang-ci
🔍 Discovered 0 plot file(s) for grok online
🔍 Analyzing benchmark results for accuracy and performance...
   Found timing_summary log for grok online on 20251011: timing_summary_20251012_100036.log
   Found timing_summary log for grok online on 20251011: timing_summary_20251012_100036.log
🔍 Sending adaptive card with plot links
📊 Payload size: 0.00MB
✅ Successfully sent Teams notification for grok online plots
   (Power Automate flow accepted - message processing asynchronously)
🎉 Teams notification sent successfully! (with intelligent analysis)
[nightly] Teams notification sent successfully for grok online
[nightly] === Online post-processing completed for GROK ===
[nightly] ==========================================
[nightly] Completed benchmarks for image: rocm/sgl-dev:v0.5.3.post1-rocm700-mi35x-20251011
[nightly] Stopping container sgl-dev_v0.5.3.post1-rocm700-mi35x-20251011 to release resources...
[nightly] ==========================================
[nightly] ==========================================
[nightly] All benchmarks completed for 1 image(s)
[nightly] ==========================================
[nightly] Cleaning up process lock...
